!function(){const e=document.querySelector("[container-form]"),t=document.querySelector("[new-entry]"),n=document.querySelector("[switch]"),a=document.querySelector("[location-button]");let r,o="Jacksonville";async function c(e){!function(e){r=isNaN(e)&&function(e){return/\d/.test(e)}(e)?e:function(e){return!/\D/.test(e)}(e)&&e.length<=5?`zip=${e}`:`q=${e}`}(e);try{const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?${r}&appid=7a3a8154d7544804e521a87d3cd32a38&units=standard`,{mode:"cors"});!function(e){switch(e.weather[0].main){case"Clear":document.body.style.backgroundImage='url("images/clear.gif")';break;case"Clouds":document.body.style.backgroundImage='url("images/totk-partial-clouds.gif")';break;case"Rain":document.body.style.backgroundImage='url("images/rain-zelda.webp")';break;case"Drizzle":document.body.style.backgroundImage='url("images/drizzlezelda.png")';break;case"Haze":case"Mist":case"Fog":document.body.style.backgroundImage='url("images/The_Lost_Woods.jpeg")';break;case"Smoke":document.body.style.backgroundImage='url("images/smoke.gif")';break;case"Dust":document.body.style.backgroundImage='url("images/dust.gif")';break;case"Thunderstorm":document.body.style.backgroundImage='url("images/thunderstorm.gif")';break;case"Tornado":document.body.style.backgroundImage='url("images/tornado.gif")';break;case"Snow":document.body.style.backgroundImage='url("images/d-snow.jpg")'}const t=document.querySelector("[cityName]"),a=document.querySelector("[cityTemperature]"),r=document.querySelector("[cityWeather]"),o=document.querySelector("[tempFeeling]"),c=document.querySelector("[humidity]"),l=document.querySelector("[wind]"),m=document.querySelector("[date-time]"),g=e.timezone,y=e.weather[0].description;let b=e.main.temp,k=e.main.feels_like;t.innerHTML=`${e.name}, ${e.sys.country}`,m.innerHTML=function(e){let t=new Date,n=t.getTime(),a=6e4*t.getTimezoneOffset();return new Date(n+a+1e3*e).toLocaleString()}(g),n.checked?(b=u(b),k=u(k),a.innerHTML=b+"&degF"):(b=i(b),k=i(k),a.innerHTML=b+"&degC"),r.innerHTML=y.charAt(0).toUpperCase()+y.slice(1),o.innerHTML="Feels like: "+k+"&deg",c.innerHTML="Humidity levels: "+e.main.humidity+"%",l.innerHTML="Wind: "+e.wind.speed+"k/m",n.addEventListener("change",(()=>{n.checked?setTimeout((()=>{b=d(b),k=d(k),a.innerHTML=b+"&degF",o.innerHTML="Feels like: "+k+"&deg"}),150):setTimeout((()=>{b=s(b),k=s(k),a.innerHTML=b+"&degC",o.innerHTML="Feels like: "+k+"&deg"}),150)}))}(await e.json())}catch(e){alert(e)}}function i(e){return e=parseFloat(e),Math.round(e-=273.15)}function u(e){return e=parseFloat(e),Math.round(9*(e-=273.15)/5+32)}function d(e){return e=parseFloat(e),Math.round(e=1.8*e+32)}function s(e){return e=parseFloat(e),Math.round(e=5/9*(e-32))}a.addEventListener("click",(e=>{e.preventDefault(),navigator.geolocation.getCurrentPosition((e=>{c("lat="+e.coords.latitude+"&lon="+e.coords.longitude)}),(e=>{alert(e)}))})),e.addEventListener("submit",(e=>{e.preventDefault(),o=t.value,c(o),t.value=""})),c(o)}();